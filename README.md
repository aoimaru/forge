# AWS上に基本的なネットワークを作成するためのモジュール
* このネットワークは外部に公開しない.
* LBも作成しない

## 定義モジュール
* VPC
* サブネット
    * プライベートサブネット2つ(`1a`, `1c`)
    * パブリックサブネット2つ(`1a`, `1c`)
* ルートテーブル
    * プライベートサブネット用のルートテーブル
    * パブリックサブネット用のルートテーブル
* セキュリティグループ
    * アプリケーションサーバ用のSG
        * 踏み台サーバ`→`アプリサーバの`8080`のみ許可(`ingress`)
        * アプリサーバ`→`SSMエンドポイントの`443`のみ許可(`egress`)
    * 監視サーバ(攻撃側)用のSG
        * 踏み台サーバ`→`アプリサーバの`8080`(`egress`)
        * 踏み台サーバ`→`SSMエンドポイントの`443`(`egress`)
    * DBサーバ用のSG
        * アプリケーションサーバ内でDBを動かすかもしれないので必要ないかも(`docker利用`)
        * こいつは勉強用なので、一応作成するけど基本使用しない
            * アプリサーバ`→`DBサーバ向きの`5432`のみ開いておく
    * SSM接続用のSG
        * ingressは[`アプリサーバ`, `監視サーバ`]からの`443`のみ許可
        * egressは`0.0.0.0/0`の`-1`を許可(実質すべて許可)
* インターネットゲートウェイ
    * パブリックサブネット用のルートテーブルに紐づけ

## 定義しないモジュール
* NATゲートウェイ
    * シンプルにお金がかかるから. NATというよりはNATに割り当てるElasticIPにお金がかかっている？
    * でも、今回に限ってはNAT自体いらない？？ update周りのセキュリティテストで必要になるかもだけど...